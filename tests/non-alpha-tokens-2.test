#!/bin/sh

# Check that ratfor behaves well with non-alphanumeric tokens.
# This is meant to prevent regression w.r.t. already corrected bugs.

. ../lib/rat4-testsuite-init.sh || exit 99

cat >tst.r <<\EOF
1 a++b
2 c--d
3 e**f
4 g//h
EOF

cat >exp <<EOF
1 a++b
2 c--d
3 e**f
4 g//h
EOF

cat tst.r

run_RATFOR tst.r || testcase_FAIL
test -s stderr && testcase_FAIL
$GREP -v '^[cC]' <stdout | ws_normalize >got

cat exp
cat got

$DIFF_U exp got || testcase_FAIL

testcase_DONE

# vim: ft=sh ts=4 sw=4 et
