#!/bin/sh

# Check the `DEFINE' is not a valid alias for `define'.

. ../lib/rat4-t.sh || exit 99

tr '_' "$TAB" >tst.r <<EOF
DEFINE sym1 foo
DEFINE(sym2,bar)
x1 sym1
x2 sym2
EOF

cat tst.r

run_RATFOR tst.r || testcase_FATAL_FAILURE
test -s stderr && testcase_FATAL_FAILURE

$FGREP 'DEFINE' stdout || testcase_FATAL_FAILURE
$GREP 'x1 *sym1' stdout || testcase_FATAL_FAILURE
$GREP 'x2 *sym2' stdout || testcase_FATAL_FAILURE
$GREP 'x.*foo' stdout && testcase_FATAL_FAILURE
$GREP 'x.*bar' stdout && testcase_FATAL_FAILURE

testcase_PASS

# vim: ft=sh ts=4 sw=4 et
