#!/bin/sh

# Check that `define(SYM, VALUE)' works on multi-line VALUE.

. ./defs.sh || exit 99

cat >tst.r <<EOF
define(sym1,#
line1
line2
line3)
define sym2 a_
b_
c
sym1
sym2
alive
EOF

cat > exp <<EOF
line1
line2
line3
abc
alive
EOF

run_RATFOR -e 0 tst.r || testcase_FAIL
$GREP -v '^[cC]' stdout | ws_normalize | tolower >got

$DIFF_U exp got || testcase_FAIL

testcase_PASS

# vim: ft=sh ts=4 sw=4 et
