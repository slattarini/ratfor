#!/bin/sh

# Check that ratfor complains if the keyword `function' is not followed
# by a function name (even when empty macros are involved).

. ./TestsAux/test-lib.sh || exit 99
ls -l "$srcdir"/subprog-name-invalid.sh
. "$srcdir"/subprog-name-invalid.sh || testcase_HARDERROR

write_testfile() {
    do_define STMTEND "$2"
    do_prefix "$1 STMTEND" "${3-}"
}
check_default_subprog_missnames 'function'

write_testfile() {
    do_define SUBPROG "$1"
    do_prefix "SUBPROG $2" "${3-}"
}
check_default_subprog_missnames 'function'

write_testfile() {
    do_define STMTEND "$2"
    do_define SUBPROG "$1"
    do_prefix "SUBPROG STMTEND" "${3-}"
}
check_default_subprog_missnames 'function'

testcase_done

# vim: ft=sh ts=4 sw=4 et
