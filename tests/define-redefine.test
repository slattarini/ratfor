#!/bin/sh

# Check tha symbols defined with `define' can be redefined.

. ../lib/rat4-t.sh || exit 99

cat >tst.r <<EOF
define sym foo
sym
define sym bar
sym
define foo quux
sym
foo
EOF

cat >exp <<EOF
foo
bar
bar
quux
EOF

run_RATFOR tst.r || testcase_FATAL_FAILURE
$GREP -v '^[cC]' stdout | ws_normalize > got

cat exp
cat got

$DIFF_U exp got || testcase_FATAL_FAILURE

testcase_PASS

# vim: ft=sh ts=4 sw=4 et
