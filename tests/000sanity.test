#!/bin/sh
# $Id$

# Check that there are no obvious errors in the testing framework.

. ./defs.sh || exit 1

test_func() {
    cat <<EOF
OUT
EOF
    echo ERR >&2
}
run_CMD test_func
test -f stdout
test -f stderr
test x"`cat stdout`" = x"OUT"
test x"`cat stderr`" = x"ERR"

run_CMD eval 'echo OUT_bis && echo ERR_bis >&2 && :'
test -f stdout
test -f stderr
test x"`cat stdout`" = x"OUT_bis"
test x"`cat stderr`" = x"ERR_bis"

Exit 0

# vim: ft=sh ts=4 sw=4 et
