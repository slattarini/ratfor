#!/bin/sh

# Check that the `include' statement abort ratofor on recursive inclusion.

. ../lib/rat4-t.sh || exit 99

cat > foo.r <<EOF
include bar.r
EOF

cat > bar.r <<EOF
include foo.r
EOF

run_RATFOR -e 1 -t 10 foo.r || testcase_FATAL_FAILURE
test -s stderr || testcase_FATAL_FAILURE "ratfor did not print error any" \
                                         "message on recursive include"

testcase_DONE

# vim: ft=sh ts=4 sw=4 et
