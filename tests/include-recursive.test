#!/bin/sh

# Check that the `include' statement abort ratofor on recursive inclusion.

. ../lib/rat4-t.sh || exit 99

echo 'include bar.r' >foo.r
echo 'include foo.r' >bar.r

cat foo.r
cat bar.r

run_RATFOR -e 1 -t 10 foo.r || testcase_FAIL
test -s stderr || testcase_FAIL "ratfor did not print error any message" \
                                "on recursive include"

testcase_DONE

# vim: ft=sh ts=4 sw=4 et
