#!/bin/sh

# Check that the `include' statement abort ratofor on recursive inclusion.

. ./TestsAux/defs.sh || exit 99

cat > foo.r <<EOF
include bar.r
EOF

cat > bar.r <<EOF
include foo.r
EOF

run_CMD -e 1 timer -t 10 "$RATFOR" foo.r || testcase_FAIL
test -s stderr || testcase_FAIL "ratfor did not print error any message" \
                                "on recursive include"

testcase_PASS

# vim: ft=sh ts=4 sw=4 et
