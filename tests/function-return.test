#!/bin/sh

# Check that the `return' statements work inside a function.

. ./TestsAux/defs.sh || exit 99

cat > tst.r <<EOF
function foo
  return 1
end
EOF

run_CMD "$RATFOR" tst.r || testcase_FAIL
$GREP -v '^[cC]' stdout | ws_normalize >stdout-t
mv stdout-t stdout
$GREP '^foo *= *1$' stdout || testcase_FAIL
$GREP '^return$' stdout || testcase_FAIL

testcase_PASS

# vim: ft=sh ts=4 sw=4 et
